webpackJsonp([2,0],[function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var n=o(101),a=s(n),i=o(100),r=s(i),c=o(30),l=s(c),u=o(91),d=s(u);a.default.use(r.default);var p=new r.default;(0,l.default)(p);var f={components:{App:d.default}};p.start(f,"body")},,function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(72),a=s(n),i={msgObj:document.getElementsByClassName("body-wrapper")[0],username:null,userid:null,color:null,socket:null,onlineCount:0,onlineUsers:null,msgArr:[],scrollToBottom:function(){},logout:function(){this.socket.disconnect()},submit:function(e){if(""!=e){var t={userid:this.userid,username:this.username,msg:e,color:this.color};this.socket.emit("message",t)}else console.log("msg is null");return!1},genUid:function(){return(new Date).getTime()+""+Math.floor(899*Math.random()+100)},updateSysMsg:function(e,t){this.onlineUsers=e.onlineUsers,this.onlineCount=e.onlineCount;e.user},changeInfo:function(){this.userid=localStorage.getItem("userid"),this.username=localStorage.getItem("name"),this.color=localStorage.getItem("color"),this.weichat=localStorage.getItem("weichat"),this.socket.emit("changeInfo",{userid:this.userid,username:this.username,color:this.color,weichat:this.weichat})},init:function(){var e=this;this.userid=localStorage.getItem("userid"),this.username=localStorage.getItem("name"),this.color=localStorage.getItem("color"),this.weichat=localStorage.getItem("weichat"),this.userid&&(this.socket=a.default.connect("wss://chat-demo-server.herokuapp.com"),this.socket.emit("login",{userid:this.userid,username:this.username,color:this.color,weichat:this.weichat}),setInterval(function(){e.socket.emit("heartbeat",1)},1e4),this.socket.on("login",function(e){i.updateSysMsg(e,"logout"),i.msgArr.push(e)}),this.socket.on("changeInfo",function(e){i.onlineUsers[e.userid]=e,console.log(e)}),this.socket.on("logout",function(e){i.updateSysMsg(e,"logout")}),this.socket.on("message",function(e){i.msgArr.push(e)}))}};t.default=i},,,,,,,,function(e,t){"use strict";function o(){return"#"+(~~(Math.random()*(1<<24))).toString(16)}function s(){return(new Date).getTime()+""+Math.floor(899*Math.random()+100)}Object.defineProperty(t,"__esModule",{value:!0}),t.randomColor=o,t.genUid=s},,,,,,,,,,,,,function(e,t,o){var s,n,a={};o(58),s=o(35),n=o(83),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(64),s=o(41),n=o(89),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(65),s=o(42),n=o(90),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},,,,,function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.map({"/groupinfo":{name:"groupinfo",component:a.default},"/login":{name:"login",component:r.default}})};var n=o(23),a=s(n),i=o(24),r=s(i)},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(94),a=s(n),i=o(92),r=s(i),c=o(93),l=s(c),u=o(23),d=s(u);t.default={components:{ChatHead:a.default,ChatBody:r.default,ChatFoot:l.default,GroupInfo:d.default}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(97),a=s(n),i=o(98),r=s(i),c=o(99),l=s(c),u=o(2),d=s(u);t.default={data:function(){return{CHAT:d.default}},ready:function(){localStorage.getItem("name")||this.$router.go("/login")},components:{OtherMsg:a.default,SelfMsg:r.default,SystemMsg:l.default}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),a=s(n);t.default={data:function(){return{msg:""}},ready:function(){a.default.init(),console.log(a.default,"ww")},methods:{send:function(e){a.default.submit(e),this.msg="",console.log(a.default)}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(24),a=s(n),i=o(2),r=s(i);t.default={data:function(){return{msg:"",CHAT:r.default}},ready:function(){console.log(11,r.default.onlineCount)},components:{Login:a.default}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(96),a=s(n),i=o(95),r=s(i);t.default={data:function(){return{}},ready:function(){console.log(77)},components:{GroupInfoHead:a.default,GroupInfoBody:r.default}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),a=s(n),i=o(25),r=s(i),c=o(10);t.default={data:function(){return{CHAT:a.default,color:localStorage.getItem("color")||"#666",name:"redream",weichat:"redream",isShow:!1,fname:"redream",fweichat:"redream",isShowF:!1}},ready:function(){return console.log(a.default.onlineUsers,99),localStorage?(localStorage.getItem("name")&&(this.name=localStorage.getItem("name")),localStorage.getItem("color")&&(this.color=localStorage.getItem("color")),void(localStorage.getItem("weichat")&&(this.weichat=localStorage.getItem("weichat")))):void alert("not support save message in local")},components:{dialog:r.default},methods:{changeColor:function(){this.color=(0,c.randomColor)(),localStorage.setItem("color",this.color)},save:function(){this.name=this.name.slice(0,10),localStorage&&(localStorage.setItem("name",this.name),localStorage.setItem("color",this.color),localStorage.setItem("weichat",this.weichat)),this.isShow=!1,this.CHAT.changeInfo()},show:function(){this.isShow=!0},del:function(){localStorage&&(localStorage.removeItem("name"),localStorage.removeItem("userid"),localStorage.removeItem("color"),localStorage.removeItem("weichat")),this.CHAT.logout(),this.$router.go("/login")},showWeiChat:function(e){console.log(e),this.fname=e.username,this.fweichat=e.weichat,this.isShowF=!0},closeF:function(){this.isShowF=!1}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),a=s(n),i=o(25),r=s(i);t.default={data:function(){return{CHAT:a.default,isShare:!1}},ready:function(){},components:{dialog:r.default},methods:{open:function(){this.isShare=!0},close:function(){this.isShare=!1}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},ready:function(){this.$el.scrollIntoView()},props:["msg","name","color"]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},ready:function(){this.$el.scrollIntoView()},props:["msg","color"]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},props:["msg"]}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),a=s(n),i=o(10);t.default={data:function(){return{name:"",color:"",weichat:""}},ready:function(){},methods:{send:function(e){a.default.submit(e),this.msg="",console.log(a.default)},login:function(){return this.name.trim()?(this.name=this.name.slice(0,10),localStorage&&(localStorage.setItem("name",this.name),localStorage.setItem("color",(0,i.randomColor)()),localStorage.setItem("weichat",this.weichat),localStorage.setItem("userid",(0,i.genUid)())),a.default.init(this.name),void this.$router.go("/")):void alert("nick name can not be empty")}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},ready:function(){},components:{},props:{fastClose:{type:Boolean,default:!1}},methods:{close:function(){this.fastClose&&this.$router.go(-1)}}}},,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,function(e,t){e.exports=" <div class=chat> <chat-head></chat-head> <chat-body></chat-body> <chat-foot></chat-foot> </div> "},function(e,t){e.exports=' <div class=body-wrapper> <template v-for="msgObj in CHAT.msgArr"> <template v-if=msgObj.login> <system-msg :msg=msgObj.user.username></system-msg> </template> <template v-if=!msgObj.login&&!msgObj.logout> <other-msg v-if="msgObj.userid!=CHAT.userid" :name=msgObj.username :msg=msgObj.msg :color=msgObj.color></other-msg> <self-msg v-if="msgObj.userid==CHAT.userid" :msg=msgObj.msg :color=msgObj.color></self-msg> </template> </template> </div> '},function(e,t){e.exports=' <div class=foot-wrapper> <input class=chat-input type=text name="" @keyup.enter=send(msg) v-model=msg> <span class=chat-sub :class="{\'primary\':!!msg}" @click=send(msg)>send</span> </div> '},function(e,t){e.exports=' <div class=head-wrapper> <div class=-left> </div> <div class=-mid> <p class=group-name>Chat room({{CHAT.onlineCount}})</p> </div> <div class=-right v-link="\'/groupinfo\'"> <i class="iconfont icon-group"></i> </div> </div> '},function(e,t){e.exports=" <div class=group-info-wrap transition=slide> <group-info-head></group-info-head> <group-info-body></group-info-body> </div> "},function(e,t){e.exports=' <div class=group-info-body-wrap> <div class=-bar></div> <div class=-members> <div class=-member v-for="userObj in CHAT.onlineUsers" @click=showWeiChat(userObj)> <span class=-header :style="{\'background-color\':userObj.color}"> {{userObj.username.slice(-1)}} </span> <span class=-name> {{userObj.username.slice(0,4)}} </span> </div> <div class=-member v-for="i in 9"> </div> </div> <div class=-bar></div> <div class=-self> <div class=-title> my infomation </div> <div class=-info> <span class=-header :style="{\'background-color\':color}"></span> <span class=-name>{{name}}</span> <span class=-modify @click=show()>modify</span> </div> <div class=-notice> </div> </div> <div class=-bar></div> <div class=-del @click=del()>leave room</div> <div class=-bar></div> <div class=-bar></div> </div> <dialog v-if=isShow :fast-close=false> <div class=modify-box> <div class=-header @click=changeColor()> <span class=-img :style="{\'background-color\':color}"></span> <span class=-notice>click to change color</span> </div> <div class=-name> <label>nick name in room：</label> <input type=text v-model=name placeholder="10 digit length"> </div> <div class=-weichat> <label>my ID：</label> <input type=text v-model=weichat placeholder="private chart to get "> </div> <div class=-save> <span class=-btn @click=save()>save</span> </div> </div> </dialog> <dialog v-if=isShowF> <div class=f-info> <div class=-name> <label>nick name in room：</label> <input disabled=true type=text v-model=fname placeholder=""> </div> <div class=-weichat> <label>my id：</label> <input disabled=true type=text v-model=fweichat placeholder="ask by yourself in room"> </div> <div class=-save> <span class=-btn @click=closeF()>close</span> </div> </div> </dialog> '},function(e,t){e.exports=' <div class=group-info-head-wrap> <div class=-left v-link="\'/\'"> <i class="iconfont icon-back"></i> </div> <div class=-mid> <p class=group-name>Chat room({{CHAT.onlineCount}})</p> </div> <div class=-right @click=open()> <i class="iconfont icon-share"></i> </div> </div> '},function(e,t){e.exports=" <div class=other-wrap> <span class=-header :style=\"{'background-color':color}\">{{name.slice(-1)}}</span> <span class=-name>{{name}}</span> <div class=-msg>{{msg}}</div> </div> "},function(e,t){e.exports=" <div class=self-wrap> <span class=-header :style=\"{'background-color':color}\">I</span> <div class=-msg>{{msg}}</div> </div> "},function(e,t){e.exports=" <div class=sys-wrap> <div class=sys-msg> {{msg}} join room </div> </div> "},function(e,t){e.exports=' <div class=login-wrapper transition=loginslide> <div class=header> </div> <div class=body> <div class=-title> Chat room </div> <div class=-name> <label>nick name：</label> <input type=text v-model=name placeholder="only 10 digits "> </div> <div class=-weichat> <label>id：</label> <input type=text v-model=weichat placeholder="for private chat（optional）"> </div> <div class=-login> <span class=-btn @click=login()>login</span> </div> </div> </div> '},function(e,t){e.exports=" <div class=dialog-mask transition=enter @click=close> <div class=dialg-wrap> <slot></slot> </div> </div> "},function(e,t,o){var s,n,a={};o(66),s=o(31),n=o(79),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(55),s=o(32),n=o(80),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(56),s=o(33),n=o(81),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(57),s=o(34),n=o(82),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(59),s=o(36),n=o(84),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(60),s=o(37),n=o(85),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(61),s=o(38),n=o(86),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(62),s=o(39),n=o(87),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},function(e,t,o){var s,n,a={};o(63),s=o(40),n=o(88),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(a).forEach(function(e){var t=a[e];i.computed[e]=function(){return t}})},,,,,function(e,t){}]);
//# sourceMappingURL=app.8db358d428dfed15c734.js.map